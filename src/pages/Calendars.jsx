import React from 'react'
import Card from '../ui/Card.jsx'
export default function Calendars({ data, query }){ if(!data) return <div>Loading...</div>; const q=(query||'').toLowerCase(); const internal=data.events.items.filter(e=>(e.title+' '+(e.location||'')+' '+(e.details||'')).toLowerCase().includes(q)); const external=data.calendars.items.filter(c=>(c.name+' '+(c.description||'')).toLowerCase().includes(q)); return (<div className='grid md:grid-cols-2 gap-4'><Card title='Internal Events'><ul className='list-disc ml-5'>{internal.map((e,i)=>(<li key={i}><b>{e.title}</b> — {e.date}{e.location?` — ${e.location}`:''}</li>))}</ul></Card><Card title='External Calendars & Feeds'><ul className='list-disc ml-5'>{external.map((c,i)=>(<li key={i}><div><b>{c.name}</b>{c.location?` — ${c.location}`:''}</div>{c.description&&<div className='text-gray-600'>{c.description}</div>}{c.url&&<div><a className='underline' href={c.url} target='_blank' rel='noreferrer'>Open calendar</a></div>}</li>))}</ul></Card></div>) }