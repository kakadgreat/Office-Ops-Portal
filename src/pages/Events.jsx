import React from 'react'
import Card from '../ui/Card.jsx'
export default function Events({ data, query }){ if(!data) return <div>Loading...</div>; const q=(query||'').toLowerCase(); const items=data.events.items.filter(e=>(e.title+' '+(e.location||'')+' '+(e.details||'')).toLowerCase().includes(q)); return (<div className='grid gap-4'>{items.map((e,i)=>(<Card key={i} title={e.title}><div className='space-y-1'><div><b>Date:</b> {e.date}</div>{e.time&&<div><b>Time:</b> {e.time}</div>}{e.location&&<div><b>Location:</b> {e.location}</div>}{e.primary_contact&&<div><b>Contact:</b> {e.primary_contact}</div>}{e.links?.length>0&&<ul className='list-disc ml-5'>{e.links.map((l,idx)=>(<li key={idx}><a className='underline' href={l.href} target='_blank'>{l.label}</a></li>))}</ul>}{e.details&&<div className='text-gray-600 whitespace-pre-wrap'>{e.details}</div>}</div></Card>))}</div>) }